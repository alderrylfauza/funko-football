<div class="bg-gray-800 rounded-lg overflow-hidden shadow-2xl flex flex-col group">
    <!-- Thumbnail -->
    <div class="relative overflow-hidden">
        <a href="{% url 'main:show_product' product.pk %}">
            <img src="{{ product.thumbnail }}" alt="{{ product.name }}" class="w-full h-56 object-cover transform group-hover:scale-110 transition-transform duration-300 ease-in-out">
        </a>
        <!-- Category Badge -->
        <div class="absolute top-3 left-3">
            <span class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-600 text-white">
                {{ product.category|title }}
            </span>
        </div>
    </div>

    <!-- Content -->
    <div class="p-5 flex flex-col flex-grow">
        <h3 class="text-xl font-bold text-white mb-2 leading-tight truncate">
            <a href="{% url 'main:show_product' product.pk %}" class="hover:text-blue-400 transition-colors">
                {{ product.name }}
            </a>
        </h3>

        <p class="text-gray-300 font-bold text-2xl mb-4">Rp{{ product.price }}</p>

        <p class="text-gray-400 text-sm leading-relaxed line-clamp-3 mb-4 flex-grow">
            {{ product.description|truncatewords:15 }}
        </p>

        <!-- Action Buttons -->
        <div class="pt-4 border-t border-gray-700 flex justify-between items-center">
             <a href="{% url 'main:show_product' product.pk %}" class="text-blue-400 hover:underline font-medium text-sm transition-colors">
                View Details â†’
            </a>
            {% if user.is_authenticated and product.user == user %}
                <div class="flex space-x-3">
                    <a href="{% url 'main:edit_product' product.pk %}" class="text-gray-400 hover:text-white text-sm font-medium transition-colors">
                        Edit
                    </a>
                    <form method="POST" action="{% url 'main:delete_product' product.pk %}" class="inline">
                        {% csrf_token %}
                        <button type="submit" class="text-red-400 hover:text-red-500 text-sm font-medium transition-colors">
                            Delete
                        </button>
                    </form>
                </div>
            {% endif %}
        </div>
    </div>
</div>
